var CLOSE_KEY="Escape",popupContactsSection=document.querySelector(".popup-contacts-section"),contactsHelp=document.querySelector(".contacts-help"),popupMapSection=document.querySelector(".popup-map-section"),mapLink=document.querySelector(".map-link"),closeForm=document.querySelector(".close-form"),closeMap=document.querySelector(".close-map"),popupForm=document.querySelector(".popup-form"),popupAlert=document.querySelector(".popup-alert"),closeAlert=document.querySelector(".close-alert"),checkAndSetStorage=function(e,t){isStorageSupportAndGet(t).result?e.value=isStorageSupportAndGet(t).result:e.focus()},setFromStorage=function(){document.querySelectorAll(".client-memory").forEach(function(e,t,o){var c=o[o.length-t-1],n=c.dataset.clientInformation;isStorageSupportAndGet(n).question?checkAndSetStorage(c,n):c.focus()})},isStorageSupportAndGet=function(e){var t=!0,o="";try{o=localStorage.getItem(e)}catch(e){t=!1}return{question:t,result:o}},checkFormAndStore=function(e){e.addEventListener("submit",function(e){for(var t=document.querySelectorAll(".client-memory"),o=0,c=!0;o<t.length&&c;){var n=t[o].dataset.clientInformation;t[o].value?isStorageSupportAndGet(n).question&&localStorage.setItem(n,t[o].value):(e.preventDefault(),c=!1),o++}})},setOpenBuyLinks=function(){document.querySelectorAll(".buy-link").forEach(function(e){addPopupFunctionOpen(e,popupAlert)})},addPopupFunctionOpen=function(e,o){e.addEventListener("click",function(e){e.preventDefault(),o.classList.add("popup-active");var t=document.querySelector(".popup-form");o.contains(t)&&setFromStorage()})},addPopupFunctionClose=function(e,t){e.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("popup-active")})},closeByKey=function(t){window.addEventListener("keydown",function(e){e.code===t&&document.querySelectorAll(".popup-section").forEach(function(e){e.classList.contains("popup-active")&&e.classList.remove("popup-active")})})},activeAndDisable=function(e,t,o,c){var n=e.classList.contains("product-arrow-left"),r=e.classList.contains("product-arrow-right");n||r?(e.disabled=!0,t.disabled=!1,o.classList.remove("product-dot-active"),c.classList.add("product-dot-active")):(e.classList.remove("product-dot-active"),t.classList.add("product-dot-active"),c.disabled=!1,o.disabled=!0)},controlsListener=function(e,t,o,c){var n=document.querySelectorAll(".product-slider-item"),r=document.querySelector(".product-slider-list").querySelector(".slide-active"),i=+r.dataset.productNumber,s=e.classList.contains("product-dot-right"),a=e.classList.contains("product-arrow-left");r.classList.remove("slide-active"),n[i+(s||a?-1:1)].classList.add("slide-active"),activeAndDisable(e,t,o,c)},sliderProduct=function(){var t=document.querySelector(".product-arrow-left"),o=document.querySelector(".product-arrow-right"),c=document.querySelector(".product-dot-left"),n=document.querySelector(".product-dot-right");t.addEventListener("click",function(e){e.preventDefault(),controlsListener(t,o,n,c)}),o.addEventListener("click",function(e){e.preventDefault(),controlsListener(o,t,c,n)}),c.addEventListener("click",function(e){e.preventDefault(),controlsListener(n,c,t,o)}),n.addEventListener("click",function(e){e.preventDefault(),controlsListener(c,n,o,t)})},sliderServices=function(){var e=document.querySelectorAll(".services-control"),o=document.querySelector(".services-list");e.forEach(function(t){t.addEventListener("click",function(){document.querySelector(".services-control-active").classList.remove("services-control-active"),t.classList.add("services-control-active"),o.querySelector(".slide-active").classList.remove("slide-active");var e=t.dataset.serviceName;document.querySelector(".services-"+e).classList.add("slide-active")})})},activateScriptsIndex=function(){addPopupFunctionOpen(contactsHelp,popupContactsSection),addPopupFunctionClose(closeForm,popupContactsSection),addPopupFunctionOpen(mapLink,popupMapSection),addPopupFunctionClose(closeMap,popupMapSection),setOpenBuyLinks(),addPopupFunctionClose(closeAlert,popupAlert),checkFormAndStore(popupForm),closeByKey(CLOSE_KEY),sliderProduct(),sliderServices()},activateScriptCatalog=function(){setOpenBuyLinks(),addPopupFunctionClose(closeAlert,popupAlert),closeByKey(CLOSE_KEY)},checkPage=function(){var e=document.querySelector("main"),t=e.classList.contains("page-index"),o=e.classList.contains("page-catalog");t?activateScriptsIndex():o&&activateScriptCatalog()};checkPage();